<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Home|Brain Train</title>
        <link rel="shortcut icon" href="favicon.ico">
        <link rel="stylesheet" href="css/themes/default/jquery.mobile-1.4.5.min.css">
        <link rel="stylesheet" href="font-awesome-4.7.0/font-awesome-4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="css/listview-grid.css">
        <link rel="stylesheet" href="css/styles.css">



        <script src="js/jquery.min.js"></script>
        <script src="js/jquery.mobile-1.4.5.min.js"></script>
        <script src="js/scripts.js"></script>

        <!--map script area-->
        <script type="text/javascript" src="https://raw.githubusercontent.com/HPNeo/gmaps/master/gmaps.js"></script>
        <script type="text/javascript" src="http://maps.google.com/maps/api/js?key=AIzaSyB8buNAnAWWIhe8n9zG14I9ctpfYYRaqNM&sensor=false"></script>
        <script type="text/javascript" src="http://google-maps-utility-library-v3.googlecode.com/svn/tags/infobox/1.0/src/infobox_packed.js"></script>

        <script type="text/javascript">
            // $(document).ready(function(){

            $(document).on("pageinit", "#map-page", function () {
                var defaultLatLng = new google.maps.LatLng(51.5304203, -0.1238148);  // Default to Hollywood, CA when no geolocation support
                if (navigator.geolocation) {
                    function success(pos) {

                        // Location found, show map with these coordinates
                        drawMap(new google.maps.LatLng(51.5304203, -0.1238148));
//                        drawMap(new google.maps.LatLng(7.827897, 80.979897));

                    }
                    function fail(error) {
                        drawMap(defaultLatLng);  // Failed to find location, show default map
                    }
                    // Find the users current position.  Cache the location for 5 minutes, timeout after 6 seconds
                    navigator.geolocation.getCurrentPosition(success, fail, {maximumAge: 500000, enableHighAccuracy: true, timeout: 6000});
                } else {
                    drawMap(defaultLatLng);  // No geolocation support, show default map
                }
                var myOptions = {
                    zoom: 10,
                    center: new google.maps.LatLng(51.5304203, -0.1238148),
                    mapTypeId: google.maps.MapTypeId.ROADMAP
                };
                var map = new google.maps.Map(document.getElementById("map-canvas"), myOptions);
                function drawMap(latlng) {
                    // Add an overlay to the map of current lat/lng
                    var marker = new google.maps.Marker({
                        position: latlng,
                        map: map,
                        title: "King's Cross Station"
                    });
                    marker.addListener('click', function () {
                        window.location = "station.html";
                    });

                    var marker = new google.maps.Marker({
                        position: new google.maps.LatLng(51.7534229, -1.2700043),
                        map: map,
                        title: "King's Cross Station"
                    });
                }
            });
            // });
        </script>

        <!--map script area ends-->

        <style type="text/css">
            html, body {
                height : 100%;
            }

            /*make the page element 100% height*/
            #map-page {
                height : 100%;
            }

            /*set the content to be full-width and height except it doesn't overlap the header or footer*/
            #map-page .ui-content {
                position : absolute;
                top      : 40px;
                right    : 0;
                bottom   : 30px;
                left     : 0;
            }

        </style>
    </head>
    <body>


        <div data-role="page" data-theme="b" id="map-page">

            <div class="my-page">
                <!--header navigation area starts-->
                <div data-role="header" data-position="fixed" >
                    <h1>HOME</h1>
                    <a href="#" data-rel="back" class="ui-btn ui-corner-all ui-shadow ui-icon-back ui-btn-icon-left">Back</a>
                    <a href="#options-push" class="ui-btn ui-corner-all ui-shadow ui-btn-icon-left ui-icon-gear ui-btn-icon-notext">Options</a>
                    <div data-role="navbar">
                        <ul>
                            <li><a href="#" class="fa fa-certificate" aria-hidden="true"> 2300 </a></li>
                            <li><a href="#" class="fa fa-check-square" aria-hidden="true"> 10/25 </a></li>
                            <li><a href="#" class="fa fa-bars" aria-hidden="true"> Menu</a></li>
                        </ul>
                    </div>
                </div>
                <!--header navigation area ends-->

                <!--content are starts-->

                <div class="ui-content" role="main" id="map-canvas" style="width: 100%;height: 100%;">

                    <!--<div   id="map-canvas"></div>--> 

                </div>
                <!--content area ends-->

                <!--footer navigation area starts-->
                <div data-role="footer" data-position="fixed">
                    <div data-role="navbar">
                        <ul>
                            <li><a href="user_profile.html" class="fa fa-user-circle" data-transition="slide" data-direction="reverse" data-ajax="false"> Profile</a></li>
                            <li><a href="#" class="fa fa-map" > Map</a></li>
                            <li><a href="achievement_cat.html" class="fa fa-trophy" data-transition="slide" data-ajax="false"> Rewards </a></li>
                            <li><a href="reservationsAll.html" class="fa fa-calendar-check-o" data-transition="slide"> Journeys</a></li>
                        </ul>
                    </div>
                </div>

            </div>

            <!-- Options Panel -->
            <div data-role="panel" id="options-push" data-display="push" data-position="right">
                <ul data-role="listview">
                    <li><a href="#" class="fa fa-cog"> App Settings</a></li>
                    <li><a href="#" class="fa fa-envelope"> Subscriptions</a></li>
                    <li><a href="#" class="fa fa-info-circle" > About</a></li>
                </ul>
                <br><br>
                <button data-rel="close" class="ui-btn ui-corner-all ui-shadow">
                    Close <i class="fa fa-times-circle" aria-hidden="true"></i>
                </button>
            </div>

        </div>


    </body>
</html>
